{% load zwp_tags %}

<h2>{{ zwp_dir.label }}</h2>

{% if zwp_dir.has_tech_spec %}
	<h3>Technical specification</h3>
	<iframe
		id="dir-tech-spec"
		src="{{ zwp_dir.tech_spec_url }}"
		width="920"
		onload="this.style.height=this.contentDocument.body.scrollHeight + 20 + 'px';">
	</iframe>
{% endif %}

<h3>Parts</h3>

{% if zwp_dir.has_parts_index %}
	<iframe
		id="dir-parts-index"
		src="{{ zwp_dir.parts_index_url }}"
		width="920"
		onload="this.style.height=this.contentDocument.body.scrollHeight + 20 + 'px';">
	</iframe>
{% endif %}

<table border="1">
	<tr>
		<th>Part</th>
		<th>Thumbnail</th>

		{% for c in zwp_dir.columns %}
			<th>{{ c }}</th>
		{% endfor %}
	</tr>
	{% for part in zwp_dir.parts %}
		<tr>
			<td>{{ part.label }}</td>
			<td>{% part_thumbnail part %}</td>

			{% for c in zwp_dir.columns %}
				<td>{{ part|part_column:forloop.counter }}</td>
			{% endfor %}
		</tr>
	{% endfor %}
</table>
