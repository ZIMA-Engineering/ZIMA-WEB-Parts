{% load i18n zwp_tags %}

<h2>{{ zwp_dir.label }}</h2>

<div id="tabbar">
	{# Placeholder for tab menu #}
</div>

<div id="tabs">
	{% if zwp_dir.has_tech_spec %}
		<div id="tech-spec">
			<h3>{% trans "Technical specification" %}</h3>
			<iframe
				id="dir-tech-spec"
				src="{{ zwp_dir.tech_spec_url }}"
				width="920"
				onload="this.style.height=this.contentDocument.body.scrollHeight + 20 + 'px';">
			</iframe>
		</div>
	{% endif %}

	{% if zwp_dir.parts %}
		<div id="parts">
			<h3>{% trans "Parts" %}</h3>

			{% if zwp_dir.has_parts_index %}
				<iframe
					id="dir-parts-index"
					src="{{ zwp_dir.parts_index_url }}"
					width="920"
					onload="this.style.height=this.contentDocument.body.scrollHeight + 20 + 'px';">
				</iframe>
			{% endif %}

			<table>
				<tr>
					<th>{% trans "Part" %}</th>
					<th>{% trans "Thumbnail" %}</th>

					{% for c in zwp_dir.columns %}
						<th>{{ c }}</th>
					{% endfor %}
				</tr>
				{% for part in zwp_dir.parts %}
					<tr>
						<td>{{ part.label }}</td>
						<td>{% part_thumbnail part %}</td>

						{% for c in zwp_dir.columns %}
							<td>{{ part|part_column:forloop.counter }}</td>
						{% endfor %}
					</tr>
				{% endfor %}
			</table>
		</div>
	{% endif %}
</div>
